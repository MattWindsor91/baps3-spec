<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Playlist | BAPS3 Specification</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../features/playlist-autoadvance.html" />
    
    
    <link rel="prev" href="../features/timereport.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
    

        
    <div class="book" data-level="5.7" data-basepath=".." data-revision="Sat Apr 04 2015 15:39:33 GMT+0100 (BST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="meta/index.html">
            
                
                    <a href="../meta/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        This document
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="meta/compiling.html">
            
                
                    <a href="../meta/compiling.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Compiling
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="meta/conventions.html">
            
                
                    <a href="../meta/conventions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Conventions
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="rationale/index.html">
            
                
                    <a href="../rationale/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Rationale
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="services/index.html">
            
                
                    <a href="../services/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Services
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="services/rationale.html">
            
                
                    <a href="../services/rationale.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Rationale
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="services/player.html">
            
                
                    <a href="../services/player.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Player
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="services/playlist.html">
            
                
                    <a href="../services/playlist.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Playlist
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="services/platform.html">
            
                
                    <a href="../services/platform.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Platform
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="services/tracklister.html">
            
                
                    <a href="../services/tracklister.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Track Lister
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="services/trackresolver.html">
            
                
                    <a href="../services/trackresolver.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Track Resolver
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="services/client.html">
            
                
                    <a href="../services/client.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Client
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="services/additional.html">
            
                
                    <a href="../services/additional.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Additional Services
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="comms/index.html">
            
                
                    <a href="../comms/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Inter-Service Communications
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="comms/internal/index.html">
            
                
                    <a href="../comms/internal/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Internal API
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="comms/internal/protocol.html">
            
                
                    <a href="../comms/internal/protocol.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.1.</b>
                        
                        Protocol
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="comms/internal/changes.html">
            
                
                    <a href="../comms/internal/changes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.</b>
                        
                        API Changes
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="comms/external/index.html">
            
                
                    <a href="../comms/external/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        External API
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="comms/external/composites.html">
            
                
                    <a href="../comms/external/composites.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.1.</b>
                        
                        Composite Resources
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="features/index.html">
            
                
                    <a href="../features/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Features
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="features/core.html">
            
                
                    <a href="../features/core.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Core
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="features/fileload.html">
            
                
                    <a href="../features/fileload.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        FileLoad
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="features/playstop.html">
            
                
                    <a href="../features/playstop.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        PlayStop
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="features/seek.html">
            
                
                    <a href="../features/seek.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Seek
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="features/end.html">
            
                
                    <a href="../features/end.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        End
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="features/timereport.html">
            
                
                    <a href="../features/timereport.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        TimeReport
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="5.7" data-path="features/playlist.html">
            
                
                    <a href="../features/playlist.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        Playlist
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="features/playlist-autoadvance.html">
            
                
                    <a href="../features/playlist-autoadvance.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        Playlist.AutoAdvance
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="features/playlist-textitems.html">
            
                
                    <a href="../features/playlist-textitems.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.9.</b>
                        
                        Playlist.TextItems
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="tests/index.html">
            
                
                    <a href="../tests/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Compliance Tests
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="tests/internal.html">
            
                
                    <a href="../tests/internal.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Internal API
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="impl/index.html">
            
                
                    <a href="../impl/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Reference Implementations
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">Published with GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <a href="../GLOSSARY.html" class="btn pull-left" aria-label="Glossary"><i class="fa fa-sort-alpha-asc"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Share on Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Share on Google</button>
                <button type="button" data-sharing="facebook" class="button">Share on Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Share on Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Share on Instapaper</button>
            </div>
        </div>
    </div>
    

    
    
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >BAPS3 Specification</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1>Feature: Playlist</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Provides a base set of functionality for playlists: the <code>enqueue</code>,
<code>dequeue</code>, <code>select</code>, and <code>list</code> requests; the <code>ENQUEUE</code>, <code>DEQUEUE</code>,
<code>SELECT</code>, <code>COUNT</code>, and <code>ITEM</code> responses; and the <code>file</code> item type.</p>
</div>
<div class="paragraph">
<p><code>Playlist</code> also allows use of the <code>Ejected</code> state from <code>FileLoad</code>,
but supercedes that feature&#x2019;s requests and responses (see below).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dependencies">Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>Playlist</code> has no dependencies.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conflicts">Conflicts</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>Playlist</code> conflicts somewhat with <code>FileLoad</code>: <code>load</code> from the
latter is replaced by <code>select</code> from the former, and <code>eject</code> by
<code>select</code> with no arguments.</p>
</div>
<div class="paragraph">
<p>If a <code>Playlist</code> <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a> is implemented by chaining onto a <code>FileLoad</code>
<a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a>, the former <strong>should not</strong> advertise <code>FileLoad</code>.  It <strong>may</strong>,
however, re-export the latter <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a>&#x2019;s <code>Ejected</code> state, as this is
compatible with its meaning in <code>Playlist</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_playlist_indices">Playlist indices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Where <code>INDEX</code> occurs in the syntax of any below request or response,
it represents an integral playlist index, such that the first item
is indexed by 0, subsequent items are indexed by ascending positive
integers; in addition, the last item is indexed by -1, and precedent
items are indexed by ascending negative integers.  Thus, in a 10-item
playlist, the first item may be indexed by -10 or 0; the next by
-9 or 1; and so on, with the penultimate item being indexed by 8
or -2, and the last item by 9 or -1.</p>
</div>
<div class="paragraph">
<p>Responses from the playlist <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a> <strong>must</strong> use non-negative indices
<em>only</em>; negative indices are for the convenience of <a href="../GLOSSARY.html#client" class="glossary-term" title="A program or user that consumes services.">client</a> requests.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_playlist_hashes">Playlist hashes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A problem with using position indexes for playlist items is that
they are constantly changed by insertions and deletions.  Worse, a
request to (say) delete an index <code>i</code> may be pre-empted by an insertion
or deletion that changes where <code>i</code> points to, causing the wrong
item to be deleted.</p>
</div>
<div class="paragraph">
<p>Each playlist item, when enqueued, must be supplied with a <em>hash</em>: a
string of characters that uniquely identifies that item for the
purposes of verifying further requests concerning the item.  For
simplicity, all hashes are generated by clients, which must ensure
that they never assign two items the same hash; the <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a>&#x2019;s
obligation is merely to reject any hashes that collide at the moment
of insertion.</p>
</div>
<div class="paragraph">
<p>Useful hashes will try to distinguish between different items,
different clients, and different periods of time.  For example, one
might base a hash on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The item arguments;</p>
</li>
<li>
<p>The item type;</p>
</li>
<li>
<p>The <a href="../GLOSSARY.html#client" class="glossary-term" title="A program or user that consumes services.">client</a>&#x2019;s hostname and port;</p>
</li>
<li>
<p>Either the time of insertion (to a decent resolution) or a sequence
number.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Of course, if the <a href="../GLOSSARY.html#client" class="glossary-term" title="A program or user that consumes services.">client</a> is a human, any sufficiently unique
identifier will do.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_states">States</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__code_ejected_code"><code>Ejected</code></h3>
<div class="paragraph">
<p>As defined in the <code>FileLoad</code> feature.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requests">Requests</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__code_dequeue_code_remove_item_from_playlist"><code>dequeue</code> &#x2014; remove item from playlist</h3>
<div class="sect3">
<h4 id="_synopsis">Synopsis</h4>
<div class="paragraph">
<p><code>dequeue &lt;INDEX&gt; &lt;HASH&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description">Description</h4>
<div class="paragraph">
<p>Removes the item at index <code>INDEX</code>, if it has the hash <code>HASH</code>.
Fails if <code>INDEX</code> does not specify an item in the playlist, or if the
item at <code>INDEX</code> does not have hash <code>HASH</code>.</p>
</div>
<div class="paragraph">
<p>If successful, the <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a> <strong>must</strong> send a <code>DEQUEUE</code> response informing
all clients of the dequeue, and <strong>must</strong> send an <code>OK</code> to the sender.
Else, <code>FAIL</code> <strong>must</strong> be sent to the sender with a message describing
the error (eg. hash mismatch or bad index); the <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a> <strong>should not</strong>
send any other response.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__code_enqueue_code_insert_item_in_playlist"><code>enqueue</code> &#x2014; insert item in playlist</h3>
<div class="sect3">
<h4 id="_synopsis_2">Synopsis</h4>
<div class="paragraph">
<p><code>enqueue &lt;INDEX&gt; &lt;HASH&gt; &lt;TYPE&gt; &lt;ARGUMENTS..&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_2">Description</h4>
<div class="paragraph">
<p>Inserts the item with type <code>TYPE</code> such that any immediately subsequent
action on index <code>INDEX</code> on the playlist will reach this item.  Thus,
for integral indexes, insertion at a positive index will place the
new item <em>before</em> any item occupying that index, and insertion at
a negative index <em>after</em> any occupant; consequently, use -1 to
insert at the end of the playlist.</p>
</div>
<div class="paragraph">
<p>A <code>HASH</code> (see above) must also be given.  The command <strong>should</strong> be
rejected if the hash is presently in use.  The <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a> <strong>may</strong> reject
previously used hashes, but the <a href="../GLOSSARY.html#client" class="glossary-term" title="A program or user that consumes services.">client</a> <strong>should</strong> take responsibility
for doing this itself.</p>
</div>
<div class="paragraph">
<p>The <code>ARGUMENTS</code> are interpreted according to <code>TYPE</code>.  For the basic
<code>file</code> type of item, see below.</p>
</div>
<div class="paragraph">
<p>An <code>ENQUEUE</code> response <strong>should</strong> be sent announcing the (non-negative)
index, hash, type, and arguments of the inserted item.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__code_list_code_announce_playlist"><code>list</code> &#x2014; announce playlist</h3>
<div class="sect3">
<h4 id="_synopsis_3">Synopsis</h4>
<div class="paragraph">
<p><code>list</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_3">Description</h4>
<div class="paragraph">
<p>Causes the <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a> to announce, via a <code>COUNT</code> and zero or more
subsequent <code>ITEM</code> responses, the current state of the playlist.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__code_select_code_change_selection"><code>select</code> &#x2014; change selection</h3>
<div class="sect3">
<h4 id="_synopsis_4">Synopsis</h4>
<div class="paragraph">
<p><code>select [&lt;INDEX&gt; &lt;HASH&gt;]</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_4">Description</h4>
<div class="paragraph">
<p>If <code>INDEX</code> and <code>HASH</code> are not given, removes any current selection.
Else, selects the item at index <code>INDEX</code> if its hash is <code>HASH</code>.
Fails if <code>INDEX</code> does not specify an item in the playlist, or if the
item at <code>INDEX</code> does not have hash <code>HASH</code>.</p>
</div>
<div class="paragraph">
<p>If successful, the <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a> <strong>must</strong> send a <code>SELECT</code> response informing
all clients of the selection change, and <strong>must</strong> send an <code>OK</code> to the
sender.  Else, <code>FAIL</code> <strong>must</strong> be sent to the sender with a message
describing the error (eg. hash mismatch or bad index); the <a href="../GLOSSARY.html#server" class="glossary-term" title="A program that provides services.">server</a>
<strong>should not</strong> send any other response.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_responses">Responses</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__code_count_code_playlist_size"><code>COUNT</code> &#x2014; playlist size</h3>
<div class="sect3">
<h4 id="_synopsis_5">Synopsis</h4>
<div class="paragraph">
<p><code>COUNT &lt;NUM&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_5">Description</h4>
<div class="paragraph">
<p>Given before <code>ITEM</code> responses at the beginning of a response to a
<code>list</code> request, to inform clients of how many items are to follow.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__code_dequeue_code_item_removed_from_playlist"><code>DEQUEUE</code> &#x2014; item removed from playlist</h3>
<div class="sect3">
<h4 id="_synopsis_6">Synopsis</h4>
<div class="paragraph">
<p><code>DEQUEUE &lt;INDEX&gt; &lt;HASH&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_6">Description</h4>
<div class="paragraph">
<p>The item formerly at index <code>INDEX</code>, with hash <code>HASH</code>, has been
removed.</p>
</div>
<div class="paragraph">
<p>Unless an <code>ENQUEUE</code> with the same <code>HASH</code> follows, <code>HASH</code> now no
longer points to an item.  <code>INDEX</code> now points to the item, if any,
following the dequeued item.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__code_enqueue_code_item_added_to_playlist"><code>ENQUEUE</code> &#x2014; item added to playlist</h3>
<div class="sect3">
<h4 id="_synopsis_7">Synopsis</h4>
<div class="paragraph">
<p><code>ENQUEUE &lt;INDEX&gt; &lt;HASH&gt; &lt;TYPE&gt; &lt;ARGUMENTS&#x2026;&#x200B;&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_7">Description</h4>
<div class="paragraph">
<p>The index <code>INDEX</code> and hash <code>HASH</code> now point to an item of type
<code>TYPE</code> with arguments <code>ARGUMENTS</code>.</p>
</div>
<div class="paragraph">
<p>Any items occurring on or after <code>INDEX</code> now follow this new item,
and their positive indices have changed by 1.  (Any items before
<code>INDEX</code> have now had their negative indices change by -1.)  As such,
any attempt to reference items by index must be adjusted accordingly.</p>
</div>
<div class="paragraph">
<p>None of the other items&apos; hashes are changed.  Thus, clients <strong>should</strong>
use hashes where possible.</p>
</div>
<div class="paragraph">
<p>If an <code>ENQUEUE</code> follows a <code>DEQUEUE</code> on the same <code>HASH</code> with the
same <code>TYPE</code> and <code>ARGUMENTS</code>, it likely represents an attempt by a
<a href="../GLOSSARY.html#client" class="glossary-term" title="A program or user that consumes services.">client</a> to move an item.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__code_item_code_playlist_item"><code>ITEM</code> &#x2014; playlist item</h3>
<div class="sect3">
<h4 id="_synopsis_8">Synopsis</h4>
<div class="paragraph">
<p><code>ITEM &lt;INDEX&gt; &lt;HASH&gt; &lt;TYPE&gt; &lt;ARGUMENTS&#x2026;&#x200B;&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_8">Description</h4>
<div class="paragraph">
<p><code>ITEM</code> is announced as part of the response to a <code>list</code> request.
Each part of the <code>ITEM</code> request has the same meaning as given in
<code>ENQUEUE</code>; the <code>INDEX</code> represents the item&#x2019;s <em>current</em> index, not
its original.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__code_select_code_item_selected"><code>SELECT</code> &#x2014; item selected</h3>
<div class="sect3">
<h4 id="_synopsis_9">Synopsis</h4>
<div class="paragraph">
<p><code>SELECT</code> <strong>or</strong> <code>SELECT &lt;INDEX&gt; &lt;HASH&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_9">Description</h4>
<div class="paragraph">
<p>With no index or hash, the playlist has no item selected.  This
means that playback controls <strong>should not</strong> work, and the state
<strong>should</strong> be <code>Ejected</code>.</p>
</div>
<div class="paragraph">
<p>With an index and hash, the item at index <code>INDEX</code> and hash <code>HASH</code>
is selected.  Playback controls <strong>should</strong> work, and the state <strong>should
not</strong> be <code>Ejected</code>.</p>
</div>
<div class="paragraph">
<p>This response <strong>must</strong> be sent when the selection changes or is cleared,
and also <strong>must</strong> be sent as an <em>initial response</em>. It <strong>may</strong> also be
sent at any other time, so long as its information is correct at time
of sending.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_item_types">Item Types</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__code_file_code"><code>file</code></h3>
<div class="paragraph">
<p>A <code>file</code> item represents a file in a playlist.  The <code>file</code> type
takes one argument, namely the <em>absolute</em> path of the file to load,
as interpreted by the <code>load</code> request.</p>
</div>
<div class="paragraph">
<p>Items with type <code>file</code> <strong>may</strong> be <code>select</code>-ed.</p>
</div>
</div>
</div>
</div>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../features/timereport.html" class="navigation navigation-prev " aria-label="Previous page: TimeReport"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../features/playlist-autoadvance.html" class="navigation navigation-next " aria-label="Next page: Playlist.AutoAdvance"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":"white","family":"serif","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
